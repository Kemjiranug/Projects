<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Login</title>
    <link rel="stylesheet" href="/css/sign-in.css">
    <script src="js/cookie.js"></script>
</head>

<body>
    <header>
        <!-- Header -->
        <div class="top-banner">
            Summer Sale For All Swim Suits And Free Express Delivery-OFF 50% <a href="#">ShopNow</a>
        </div>

        <nav class="navbar">
            <div class="logo">
                <img src="https://jellybunny.com/cdn/shop/files/logo_aa9174d7-06db-4efe-ba2f-8af4e4f9c6f1.png?v=1726717153&width=120"
                    width="80" alt="jellybunny" />
            </div>

            <ul class="nav-links">
                <li><a href="/homepage">Home</a></li>
                <li><a href="/product">Product</a></li>
                <li><a href="/team">Team</a></li>
                <li><a href="/edit">Edit</a></li>
            </ul>

            <div class="nav-icons">
                <a href="/search"><img
                        src="https://cdn.builder.io/api/v1/image/assets/TEMP/74d610171b49cc3b18b456fe06d02bff2a8f09126ee10249b3afcbc71e046e51?apiKey=17a27039907c49e7b5a6c90c007a4cde&"
                        width="20" alt="Search" /></a>
                <a href="/sign-in"><img src="https://img.icons8.com/ios-glyphs/30/user.png" width="20"
                        alt="Profile"></a>
                <img src="/picture/cart.png" width="20" alt="Cart">
            </div>
        </nav>

        </nav>
    </header>


    <!-- Login Section -->
    <div class="login-container">
        <!-- Logo (Big image) -->
        <div class="logo-container">
            <img src="/picture/login.jpg" width="500" alt="Jelly Bunny">
        </div>

        <div class="signin-signup">
            <div class="segment">
                <form id="signinForm" class="sign-in-form">
                    <h2 class="title">Login</h2>
                    <div class="form-row">
                        <input type="text" class="form-control" name="username" id="username"
                            placeholder="Your email address" required>
                    </div>
                    <div class="form-row">
                        <input type="password" class="form-control" name="password" id="password" placeholder="Password"
                            required>
                    </div>
                    <div class="checkbox">
                        <input type="checkbox" id="remember-me">
                        <label for="remember-me">Remember me</label>
                    </div>
                    <button class="sign-in button" type="button" onclick="signIn()">Sign In</button>
                </form>
                <!-- Display message -->
                <div id="message" class="message"></div>
            </div>
        </div>
    </div>



    <!--Footer-->
    <footer>
        <div class="footer-container">
            <div class="footer-column">
                <h4>Customer Support</h4>
                <ul>
                    <li><a href="#">FAQs</a></li>
                    <li><a href="#">Store Location</a></li>
                    <li><a href="#">Team</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>About Us</h4>
                <ul>
                    <li><a href="#">Terms of Conditions</a></li>
                    <li><a href="#">Provacy Policy</a></li>
                </ul>
            </div>
            <div class="footer-column news">
                <h4>Newsletter</h4>
                <p>Sign up to receive offers:</p>
                <input type="email" placeholder="Enter your email" />
            </div>
        </div>
        <p class="copyright">&copy; Copyright JellyBunny, all rights reserved.</p>
    </footer>

    <script>
        function signIn() {
            const tx_usernme = document.getElementById("username").value;
            const tx_password = document.getElementById("password").value;

            fetch('http://localhost:8000/form-post', {
                method: "post",
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ username: tx_usernme, password: tx_password }),
            })
                .then(response => response.json())
                .then(data => {

                    if (data.error == false) {
                        setCookie("loginStatus", "true", 5);
                        window.location.href = "http://localhost:3300/edit";
                    } else {
                        deleteCookie("loginStatus");
                        alert(data.message);
                    }
                })
        }
    </script>
</body>

</html>